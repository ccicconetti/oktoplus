syntax = "proto3";

import "types.proto";

package oktoplus.commands;

service Interface {
  rpc listPushFront(ListPushRequest)    returns (ListPushReply)     { }  //LPUSH
  rpc listPushBack(ListPushRequest)     returns (ListPushReply)     { }  //RPUSH
  rpc listPopFront(ListGetValueRequest) returns (ListGetValueReply) { }  //LPOP
  rpc listPopBack(ListGetValueRequest)  returns (ListGetValueReply) { }  //RPOP
  rpc listLength(ListLengthRequest)     returns (ListLengthReply)   { }  //LLEN
                                                                         //BLPOP
                                                                         //BRPOP
                                                                         //BRPOPLPUSH
  rpc listEntryAtIndex(IndexRequest)    returns (ListGetValueReply) { }  //LINDEX
  rpc listInsertBefore(InsertRequest)   returns (ListInsertReply)   { }  //LINSERT (BEFORE)
  rpc listInsertAfter(InsertRequest)    returns (ListInsertReply)   { }  //LINSERT (AFTER)
                                                                         //LPUSHX
                                                                         //LRANGE
                                                                         //LREM
                                                                         //LSET
                                                                         //LTRIM
                                                                         //RPOPLPUSH
                                                                         //RPUSHX
  //////////////////////////////////////////////////////////////

}

//////////////////////////////////////////////////////

message ListPushRequest {
  string list_name       = 1;
  repeated string values = 2;
}

message ListPushReply {
  ResultInfo info = 1;
  uint64     size = 2;
}

//////////////////////////////////////////////////////

message ListGetValueRequest {
  string list_name = 1;
}

message ListGetValueReply {
  ResultInfo info  = 1;
  string     value = 2;
}

//////////////////////////////////////////////////////

message ListLengthRequest {
  string list_name = 1;
}

message ListLengthReply {
  ResultInfo info  = 1;
  uint64     value = 2;
}

//////////////////////////////////////////////////////

message IndexRequest {
  string name  = 1;
  int64  index = 2;
}

//////////////////////////////////////////////////////

message InsertRequest {
  string list_name = 1;
  int64  index     = 2;
}

message ListInsertReply {
  string list_name = 1;
  int64  index     = 2;
}

//////////////////////////////////////////////////////
